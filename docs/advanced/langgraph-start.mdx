---
sidebar_position: 2
sidebar_class_name: green
title: ü¶úüï∏Ô∏èLangGraph  
---

# ü¶úüï∏Ô∏èLangGraph  
‚ö° –°–æ–∑–¥–∞–Ω–∏–µ —è–∑—ã–∫–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–æ–≤ ‚ö°  

## –û–±–∑–æ—Ä  
[LangGraph](https://langchain-ai.github.io/langgraph/) ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∞–∫—Ç–æ—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –º–æ–¥–µ–ª–∏ –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤ (LLMs), –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–Ω—ã—Ö –∏ –º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ LLM, –æ–Ω–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: —Ü–∏–∫–ª—ã, —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è. LangGraph –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Ç–æ–∫–∏, –≤–∫–ª—é—á–∞—é—â–∏–µ —Ü–∏–∫–ª—ã, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∞–≥–µ–Ω—Ç–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä, –æ—Ç–ª–∏—á–∞—è –µ—ë –æ—Ç —Ä–µ—à–µ–Ω–∏–π, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ DAG. –ö–∞–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è, –æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞–∫ –Ω–∞–¥ –ø–æ—Ç–æ–∫–æ–º, —Ç–∞–∫ –∏ –Ω–∞–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–¥—ë–∂–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, LangGraph –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –∏ –ø–∞–º—è—Ç–∏.  
LangGraph –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω [Pregel](https://research.google/pubs/pub37252/) –∏ [Apache Beam](https://beam.apache.org/). –ü—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–∏–º—Å—Ç–≤—É–µ—Ç –∏–¥–µ–∏ –∏–∑ [NetworkX](https://networkx.org/documentation/latest/). LangGraph —Å–æ–∑–¥–∞–Ω –∫–æ–º–ø–∞–Ω–∏–µ–π LangChain Inc, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ LangChain, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–µ–∑ LangChain.

[–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ LangGraph](https://langchain-ai.github.io/langgraph/concepts/langgraph_platform) ‚Äî —ç—Ç–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤ LangGraph. –≠—Ç–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º LangGraph. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ LangGraph —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è, –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π LangGraph: [LangGraph Server](https://langchain-ai.github.io/langgraph/concepts/langgraph_server) (API), [LangGraph SDKs](https://langchain-ai.github.io/langgraph/concepts/sdk) (–∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è API), [LangGraph CLI](https://langchain-ai.github.io/langgraph/concepts/langgraph_cli) (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞), [LangGraph Studio](https://langchain-ai.github.io/langgraph/concepts/langgraph_studio) (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å/–æ—Ç–ª–∞–¥—á–∏–∫).  
–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ LangGraph, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –ø–µ—Ä–≤—ã–º –∫—É—Ä—Å–æ–º LangChain Academy, *–í–≤–µ–¥–µ–Ω–∏–µ –≤ LangGraph*, –¥–æ—Å—Ç—É–ø–Ω—ã–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ [–∑–¥–µ—Å—å](https://academy.langchain.com/courses/intro-to-langgraph).  
### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏  
- **–¶–∏–∫–ª—ã –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ü–∏–∫–ª—ã –∏ —É—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —Å–≤–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –≤ –≥—Ä–∞—Ñ–µ. –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫, —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å —É—á–∞—Å—Ç–∏–µ–º —á–µ–ª–æ–≤–µ–∫–∞, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –º–Ω–æ–≥–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ.
- **–ß–µ–ª–æ–≤–µ–∫ –≤ —Ü–∏–∫–ª–µ**: –ü—Ä–µ—Ä—ã–≤–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–æ–º.

- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏**: –ü–µ—Ä–µ–¥–∞—á–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –º–µ—Ä–µ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–∂–¥—ã–º —É–∑–ª–æ–º (–≤–∫–ª—é—á–∞—è –ø–æ—Ç–æ–∫–æ–≤—É—é –ø–µ—Ä–µ–¥–∞—á—É —Ç–æ–∫–µ–Ω–æ–≤).
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LangChain**: LangGraph –±–µ—Å—à–æ–≤–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å [LangChain](https://github.com/langchain-ai/langchain/) –∏ [LangSmith](https://docs.smith.langchain.com/) (–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Ö).  
### –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ LangGraph  
–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ LangGraph ‚Äî —ç—Ç–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º LangGraph.
–í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ LangGraph:  
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏**: –°–µ—Ä–≤–µ—Ä LangGraph –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç [–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏](https://langchain-ai.github.io/langgraph/concepts/streaming), –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **–§–æ–Ω–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≥–µ–Ω—Ç–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ª–≥–æ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤**: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Å–ø–æ—Å–æ–±–Ω–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ–ª–≥–æ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- **[–î–≤–æ–π–Ω–æ–µ —Ç–µ–∫—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](https://langchain-ai.github.io/langgraph/concepts/double_texting)**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –¥–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –∞–≥–µ–Ω—Ç —Å–º–æ–∂–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–ø–ª–µ—Å–∫–æ–≤**: –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —É—Å—Ç–æ–π—á–∏–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä—å, –¥–∞–∂–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞  
```shell
pip install -U langgraph
```

## –ü—Ä–∏–º–µ—Ä  
–û–¥–Ω–æ–π –∏–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π LangGraph —è–≤–ª—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ö–∞–∂–¥–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å–æ–∑–¥–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ –≥—Ä–∞—Ñ–∞ –ø–æ –º–µ—Ä–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∏ –∫–∞–∂–¥—ã–π —É–∑–µ–ª –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤–æ–∏–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –°–ø–æ—Å–æ–±, –∫–æ—Ç–æ—Ä—ã–º –≥—Ä–∞—Ñ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ª–∏–±–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ç–∏–ø–æ–º –≥—Ä–∞—Ñ–∞, –ª–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π.  
–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∏—Å–∫–∞.  
```shell
pip install langchain-anthropic
```  
```shell
export ANTHROPIC_API_KEY=sk-...
```  
–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏, –º—ã –º–æ–∂–µ–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å [LangSmith](https://docs.smith.langchain.com/) –¥–ª—è –ª—É—á—à–µ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.  
```shell
export LANGSMITH_TRACING=true
export LANGSMITH_API_KEY=lsv2_sk_...
```  
```python
from typing import Annotated, Literal, TypedDict

from langchain_core.messages import HumanMessage
from langchain_anthropic import ChatAnthropic
from langchain_core.tools import tool
from langgraph.checkpoint.memory import MemorySaver
from langgraph.graph import END, START, StateGraph, MessagesState
from langgraph.prebuilt import ToolNode


# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
@tool
def search(query: str):
"""–í—ã–∑–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ."""
# –≠—Ç–æ –∑–∞–≥–ª—É—à–∫–∞, –Ω–æ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç–µ –æ–± —ç—Ç–æ–º LLM...
if "sf" in query.lower() or "san francisco" in query.lower():
return "60 –≥—Ä–∞–¥—É—Å–æ–≤ –∏ —Ç—É–º–∞–Ω–Ω–æ."
return "90 –≥—Ä–∞–¥—É—Å–æ–≤ –∏ —Å–æ–ª–Ω–µ—á–Ω–æ."


tools = [search]

tool_node = ToolNode(tools)

```python
model = ChatAnthropic(model="claude-3-5-sonnet-20240620", temperature=0).bind_tools(tools)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–ª–∏ –Ω–µ—Ç
def should_continue(state: MessagesState) -> Literal["tools", END]:
    messages = state['messages']
    last_message = messages[-1]
    # –ï—Å–ª–∏ LLM –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Ç–æ–≥–¥–∞ –º—ã –Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —É–∑–µ–ª "tools"
    if last_message.tool_calls:
        return "tools"
    # –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –º—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è (–æ—Ç–≤–µ—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)
    return END


# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å
def call_model(state: MessagesState):
    messages = state['messages']
    response = model.invoke(messages)
    # –ú—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ø–∏—Å–æ–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–ø–∏—Å–∫—É
    return {"messages": [response]}


# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–æ–≤—ã–π –≥—Ä–∞—Ñ
workflow = StateGraph(MessagesState)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–≤–∞ —É–∑–ª–∞, –º–µ–∂–¥—É –∫–æ—Ç–æ—Ä—ã–º–∏ –±—É–¥–µ–º —Ü–∏–∫–ª–∏—Ä–æ–≤–∞—Ç—å
workflow.add_node("agent", call_model)
workflow.add_node("tools", tool_node)

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –∫–∞–∫ `agent`
# –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ—Ç —É–∑–µ–ª –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
workflow.add_edge(START, "agent")

# –¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—è–µ–º —É—Å–ª–æ–≤–Ω–æ–µ —Ä–µ–±—Ä–æ
workflow.add_conditional_edges(
    # –°–Ω–∞—á–∞–ª–∞ –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —É–∑–µ–ª. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `agent`.
    # –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —Ä–µ–±—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —É–∑–ª–∞ `agent`.
    "agent",
    # –î–∞–ª–µ–µ, –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π —É–∑–µ–ª –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω —Å–ª–µ–¥—É—é—â–∏–º.
    should_continue,
)

# –¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—ã—á–Ω–æ–µ —Ä–µ–±—Ä–æ –æ—Ç `tools` –∫ `agent`.
# –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `tools` —É–∑–µ–ª `agent` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º.
workflow.add_edge("tools", 'agent')
```

```python
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–∞–º—è—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –≥—Ä–∞—Ñ–∞
checkpointer = MemorySaver()

# –ù–∞–∫–æ–Ω–µ—Ü, –º—ã –µ–≥–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º!
# –≠—Ç–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –µ–≥–æ –≤ LangChain Runnable,
# —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ, –∫–∞–∫ –∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π runnable.
# –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–µ—Ä–µ–¥–∞–µ–º –ø–∞–º—è—Ç—å
app = workflow.compile(checkpointer=checkpointer)
```

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Runnable
```
final_state = app.invoke(
{"messages": [HumanMessage(content="–∫–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ —Å–∞–Ω-—Ñ—Ä–∞–Ω—Ü–∏—Å–∫–æ")]},
config={"configurable": {"thread_id": 42}}
)
final_state["messages"][-1].content
```  
```
"–ù–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞, –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞ –≤ –°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ:\n\n–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 60 –≥—Ä–∞–¥—É—Å–æ–≤ –ø–æ –§–∞—Ä–µ–Ω–≥–µ–π—Ç—É\n–£—Å–ª–æ–≤–∏—è: –¢—É–º–∞–Ω–Ω–æ\n\n–°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ –∏–∑–≤–µ—Å—Ç–µ–Ω —Å–≤–æ–∏–º–∏ –º–∏–∫—Ä–æ–∫–ª–∏–º–∞—Ç–∞–º–∏ –∏ —á–∞—Å—Ç—ã–º–∏ —Ç—É–º–∞–Ω–∞–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –ª–µ—Ç–æ–º. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 60¬∞F (–æ–∫–æ–ª–æ 15,5¬∞C) —è–≤–ª—è–µ—Ç—Å—è –≤–ø–æ–ª–Ω–µ —Ç–∏–ø–∏—á–Ω–æ–π –¥–ª—è –≥–æ—Ä–æ–¥–∞, –≥–¥–µ –∫—Ä—É–≥–ª—ã–π –≥–æ–¥ –¥–µ—Ä–∂–∞—Ç—Å—è –º—è–≥–∫–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã. –¢—É–º–∞–Ω, —á–∞—Å—Ç–æ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π –º–µ—Å—Ç–Ω—ã–º–∏ –∂–∏—Ç–µ–ª—è–º–∏ \"–ö–∞—Ä–ª –¢—É–º–∞–Ω\", —è–≤–ª—è–µ—Ç—Å—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ–π —á–µ—Ä—Ç–æ–π –ø–æ–≥–æ–¥—ã –°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ —É—Ç—Ä–∞–º –∏ –≤–µ—á–µ—Ä–∞–º.\n\n–ï—Å—Ç—å –ª–∏ –µ—â—ë —á—Ç–æ-—Ç–æ, —á—Ç–æ –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã —É–∑–Ω–∞—Ç—å –æ –ø–æ–≥–æ–¥–µ –≤ –°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ –∏–ª–∏ –ª—é–±–æ–º –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ?"
```  
–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —Ç–æ—Ç –∂–µ `"thread_id"`, –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ—Å–µ–¥—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Ç–æ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π)  
```python
final_state = app.invoke(
{"messages": [HumanMessage(content="–∞ –∫–∞–∫ –Ω–∞—Å—á—ë—Ç –ø–æ–≥–æ–¥—ã –≤ –Ω—å—é-–π–æ—Ä–∫–µ")]},
config={"configurable": {"thread_id": 42}}
)
final_state["messages"][-1].content
```  
```

"–ù–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞, —è –º–æ–≥—É —Å–æ–æ–±—â–∏—Ç—å –≤–∞–º, —á—Ç–æ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø–æ–≥–æ–¥–∞ –≤ –ù—å—é-–ô–æ—Ä–∫–µ —Å–ª–µ–¥—É—é—â–∞—è:\n\n–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 90 –≥—Ä–∞–¥—É—Å–æ–≤ –ø–æ –§–∞—Ä–µ–Ω–≥–µ–π—Ç—É (–ø—Ä–∏–º–µ—Ä–Ω–æ 32,2 –≥—Ä–∞–¥—É—Å–∞ –¶–µ–ª—å—Å–∏—è)\n–£—Å–ª–æ–≤–∏—è: –°–æ–ª–Ω–µ—á–Ω–æ\n\n–≠—Ç–∞ –ø–æ–≥–æ–¥–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –≤–∏–¥–µ–ª–∏ –≤ –°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ. –í –ù—å—é-–ô–æ—Ä–∫–µ —Å–µ–π—á–∞—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–ø–ª–µ–µ. –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ:\n\n1. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 90¬∞F –¥–æ–≤–æ–ª—å–Ω–æ –≤—ã—Å–æ–∫–∞—è, —Ç–∏–ø–∏—á–Ω–∞—è –¥–ª—è –ª–µ—Ç–Ω–µ–π –ø–æ–≥–æ–¥—ã –≤ –ù—å—é-–ô–æ—Ä–∫–µ.\n2. –°–æ–ª–Ω–µ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç —è—Å–Ω–æ–µ –Ω–µ–±–æ, —á—Ç–æ –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ, –Ω–æ —Ç–∞–∫–∂–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–æ–∂–µ—Ç –æ—â—É—â–∞—Ç—å—Å—è –µ—â—ë –∂–∞—Ä—á–µ –∏–∑-–∑–∞ –ø—Ä—è–º—ã—Ö —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ª—É—á–µ–π.\n3. –¢–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ –ù—å—é-–ô–æ—Ä–∫–µ —á–∞—Å—Ç–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç—å—é, —á—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –µ—ë –µ—â—ë –±–æ–ª–µ–µ –∂–∞—Ä–∫–æ–π, —á–µ–º —ç—Ç–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞.\n\n–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ –Ω–∞–±–ª—é–¥–∞—Ç—å —Ä–µ–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –º–µ–∂–¥—É –º—è–≥–∫–æ–π, —Ç—É–º–∞–Ω–Ω–æ–π –ø–æ–≥–æ–¥–æ–π –≤ –°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ –∏ –∂–∞—Ä–∫–∏–º–∏, —Å–æ–ª–Ω–µ—á–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –≤ –ù—å—é-–ô–æ—Ä–∫–µ. –≠—Ç–æ —Ä–∞–∑–ª–∏—á–∏–µ –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≥–æ–¥–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –°–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –®—Ç–∞—Ç–æ–≤ –¥–∞–∂–µ –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å.\n\n–ï—Å—Ç—å –ª–∏ —á—Ç–æ-—Ç–æ –µ—â—ë, —á—Ç–æ –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã —É–∑–Ω–∞—Ç—å –æ –ø–æ–≥–æ–¥–µ –≤ –ù—å—é-–ô–æ—Ä–∫–µ –∏–ª–∏ –≤ –∫–∞–∫–æ–º-–ª–∏–±–æ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ?"  
```  
### –ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä  
1. <details>
    <summary>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –º–æ–¥–µ–ª—å –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.</summary>  
    - –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `ChatAnthropic` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞—à–µ–≥–æ LLM. **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** –Ω–∞–º –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥–µ–ª—å –∑–Ω–∞–µ—Ç, —á—Ç–æ —É –Ω–µ—ë –µ—Å—Ç—å —ç—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≤—ã–∑–æ–≤–∞. –ú—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã LangChain –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ OpenAI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ `.bind_tools()`.

    - –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å - –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∏—Å–∫–∞. –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ - —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é [–∑–¥–µ—Å—å](https://python.langchain.com/docs/modules/agents/tools/custom_tools).
    </details>  
2. <details>
    <summary>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.</summary>  
    - –º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≥—Ä–∞—Ñ (`StateGraph`), –ø–µ—Ä–µ–¥–∞–≤–∞—è —Å—Ö–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `MessagesState`)
    - `MessagesState` - —ç—Ç–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –æ–¥–∏–Ω –∞—Ç—Ä–∏–±—É—Ç ‚Äî —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ `Message` –∏–∑ LangChain, –∞ —Ç–∞–∫–∂–µ –ª–æ–≥–∏–∫—É –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    </details>  
3. <details>
    <summary>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞.</summary>  
    –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —É–∑–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–º –Ω—É–∂–Ω—ã:  
    - –£–∑–µ–ª `agent`: –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è –æ —Ç–æ–º, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (–µ—Å–ª–∏ –æ–Ω–∏ –≤–æ–æ–±—â–µ –Ω—É–∂–Ω—ã) –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å.
    - –£–∑–µ–ª `tools`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: –µ—Å–ª–∏ –∞–≥–µ–Ω—Ç —Ä–µ—à–∞–µ—Ç –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ, —ç—Ç–æ—Ç —É–∑–µ–ª –≤—ã–ø–æ–ª–Ω–∏—Ç —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ.
    </details>  
4. <details>
    <summary>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –∏ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞.</summary>  
    –°–Ω–∞—á–∞–ª–∞ –Ω–∞–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ - —É–∑–µ–ª `agent`.  
    –ó–∞—Ç–µ–º –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–¥–Ω–æ –æ–±—ã—á–Ω–æ–µ –∏ –æ–¥–Ω–æ —É—Å–ª–æ–≤–Ω–æ–µ —Ä–µ–±—Ä–æ. –£—Å–ª–æ–≤–Ω–æ–µ —Ä–µ–±—Ä–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥—Ä–∞—Ñ–∞ (`MessageState`). –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω, –ø–æ–∫–∞ –∞–≥–µ–Ω—Ç (LLM) –Ω–µ –ø—Ä–∏–º–µ—Ç —Ä–µ—à–µ–Ω–∏–µ.  
    - –£—Å–ª–æ–≤–Ω–æ–µ —Ä–µ–±—Ä–æ: –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –∞–≥–µ–Ω—Ç–∞ –º—ã –¥–æ–ª–∂–Ω—ã –ª–∏–±–æ:
    - a. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –µ—Å–ª–∏ –∞–≥–µ–Ω—Ç —Å–∫–∞–∑–∞–ª –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å, –ò–õ–ò
    - b. –ó–∞–≤–µ—Ä—à–∏—Ç—å (–æ—Ç–≤–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é), –µ—Å–ª–∏ –∞–≥–µ–Ω—Ç –Ω–µ –ø–æ–ø—Ä–æ—Å–∏–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

    - –û–±—ã—á–Ω–æ–µ —Ä–µ–±—Ä–æ: –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≥—Ä–∞—Ñ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –∞–≥–µ–Ω—Ç—É, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ
    </details>  
5. <details>
    <summary>–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ.</summary>  
    - –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –º—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –≤ [Runnable](https://python.langchain.com/v0.2/docs/concepts/#runnable-interface) LangChain, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å `.invoke()`, `.stream()` –∏ `.batch()` —Å –≤–∞—à–∏–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    - –ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –ø–æ –∂–µ–ª–∞–Ω–∏—é –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –≥—Ä–∞—Ñ–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å, —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å —É—á–∞—Å—Ç–∏–µ–º —á–µ–ª–æ–≤–µ–∫–∞, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `MemorySaver` ‚Äî –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç –≤ –ø–∞–º—è—Ç–∏
    </details>  

6. <details>
    <summary>–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≥—Ä–∞—Ñ.</summary>  

    1. LangGraph –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—Ö–æ–¥—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —É–∑–µ–ª —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞, `"agent"`.
    2. –£–∑–µ–ª `"agent"` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –≤—ã–∑—ã–≤–∞—è –º–æ–¥–µ–ª—å —á–∞—Ç–∞.
    3. –ú–æ–¥–µ–ª—å —á–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `AIMessage`. LangGraph –¥–æ–±–∞–≤–ª—è–µ—Ç —ç—Ç–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
    4. –ì—Ä–∞—Ñ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏, –ø–æ–∫–∞ –Ω–µ—Ç –±–æ–ª—å—à–µ `tool_calls` –Ω–∞ `AIMessage`:  
    - –ï—Å–ª–∏ —É `AIMessage` –µ—Å—Ç—å `tool_calls`, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É–∑–µ–ª `"tools"`
    - –£–∑–µ–ª `"agent"` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `AIMessage`  
    5. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è `END` –∏ –≤—ã–≤–æ–¥–∏—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

    6. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—ã –ø–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞—à–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—ã–≤–æ–¥–∞.
    </details>

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
* [–£—á–µ–±–Ω—ã–µ –ø–æ—Å–æ–±–∏—è](https://langchain-ai.github.io/langgraph/tutorials/): –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é LangGraph —á–µ—Ä–µ–∑ –ø–æ—à–∞–≥–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã.
* [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∑–∞–¥–∞—á](https://langchain-ai.github.io/langgraph/how-tos/): –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ LangGraph, –æ—Ç –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –¥–æ –æ–±—â–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤–µ—Ç–≤–ª–µ–Ω–∏–µ, –ø–æ–¥–≥—Ä–∞—Ñ—ã –∏ —Ç.–¥.). –≠—Ç–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ–º–æ–≥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥.
* [–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞](https://langchain-ai.github.io/langgraph/concepts/high_level/): –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ LangGraph, —Ç–∞–∫–∏—Ö –∫–∞–∫ —É–∑–ª—ã, —Ä—ë–±—Ä–∞, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
* [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](https://langchain-ai.github.io/langgraph/reference/graphs/): –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –≤–∞–∂–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏, –ø—Ä–æ—Å—Ç—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –≥—Ä–∞—Ñ–æ–≤ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫, –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º–∏ –≥–æ—Ç–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –º–Ω–æ–≥–∏–º –¥—Ä—É–≥–∏–º.
* [–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ LangGraph](https://langchain-ai.github.io/langgraph/concepts/#langgraph-platform): –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ LangGraph ‚Äî —ç—Ç–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º LangGraph.

## –£—á–∞—Å—Ç–∏–µ  
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º, –∫–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥, —Å–º–æ—Ç—Ä–∏—Ç–µ [–∑–¥–µ—Å—å](https://github.com/langchain-ai/langgraph/blob/main/CONTRIBUTING.md).